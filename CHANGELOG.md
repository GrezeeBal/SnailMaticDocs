# Обновления

## Выпущено: `ХХ/07/2023`
SnailMatic 1.8 Achatina

### Добавлено

- Поддержка ЛКМ, ПКМ и СКМ для клавиш активации. Так же поддерживаются комбинации с ними (например ПКМ+G или G+ПКМ)
- Возможность добавлять картинки (`.bmp`, `.dds`, `.dib`, `.hdr`, `.jpg`, `.pfm`, `.png`, `.ppm`, and `.tga`) в виджеты (HUD) и в шпаргалки
  - Тэг:
  - `#img(1.png)` - картинка с названием **1.png** по пути _Documents\GTA San Andreas User Files\SAMP\SnailMatic\images_
  - `#img(1.png, size(10,10))` - картинка **1.png** по вышеуказанному пути с размером 10 на 10 пикселей 
  - `#img(1.png, pos(1,1))` - картинка **1.png** по вышеуказанному пути на позиции x = 1 y = 1 относительно окна виджета/шпаргалки
  - `#img(1.png, pos(1,1), size(10,10))`
  - `#img(1.png, size(10,10), pos(1,1))`
  - `#img(1.png, size(-1,-1))` - картинка **1.png** по вышеуказанному пути размер которой будет зависеть от размера окна виджета/шпаргалки (по сути авторазмер картинки)
  - `#img(weapons/1.png)` - картинка **1.png** по пути _Documents\GTA San Andreas User Files\SAMP\SnailMatic\images\weapons_
  - Примеры картинок: https://imgur.com/a/ynFXvVE
- Возможность добавлять 2+ виджета (HUD)
- Теперь в активации по тексту в чате можно использовать переменные из биндера ![image](https://github.com/GrezeeBal/SnailMaticDocs/assets/71496296/47998ce3-58fe-4117-8210-aaa4ae0c83c7)
- Звук уведомления от биндера теперь можно изменить
  - Нужно закинуть файл со звуковым уведомлением и названием **notification.mp3** в _Documents\GTA San Andreas User Files\SAMP\SnailMatic_.
  - Пример: [notification.zip](https://github.com/GrezeeBal/SnailMaticDocs/files/12101036/notification.zip)
- Новые переменные:
  - `$myweaponid$` - пишет ИД оружия в руке
  - `@dialogtext()@` - пишет текст из диалога по его номеру (чтобы воспользоваться интерактивной подсказкой нужно открыть диалог)
  - `@hud()@` - переключает состояние виджета по его номеру/названию (вкл/выкл). Например @hud(1)@ или @hud(HUD 1)@ включит/выключит виджет под номером 1
  - `@hudactivate()@` - включает виджет по его номеру/названию. Например @hud(1)@ или @hud(HUD 1)@ включит/выключит виджет под номером 1
  - `@huddeactivate()@` - выключает виджет по его номеру/названию. Например @hud(1)@ или @hud(HUD 1)@ включит/выключит виджет под номером 1
  - `$thisbind$` - пишет имя и папку активированного бинда. Полезно для переменных, которые взаимодействуют с биндами. Например @bindstop($thisbind$)@ остановит бинд, в котором была вызвана эта переменная

 
 ### Обновлено

- Изменили ограничения на переменные `$closest...` и выбор цели через ПКМ. Теперь они не сработают, если ник игрока не виден на экране.
- Добавили пару новых подсказок к переменной `@waitif`
- Теперь окно выбора отдельных строк бинда (/smselect) можно быстро закрыть этой же командой
- Сбросить сессию теперь можно быстро с помощью CTRL+SHIFT+R
- Возможность быстро отключить систему отыгровки оружия с помощью галочки в настройках
- Теперь вместо клавиши активации виджета (худа) появилась галочка, переключающая его состояние (вкл/выкл). Забиндить включение и выключение виджетов на клавишу можно с помощью соответствующих переменных.

### Исправлено

- Исправили **ошибку #3**, которая оповещала об ошибке отправки запроса на хост биндера. Теперь она никак не будет мешать и фризить игру.
- Пофикшены прочие мелкие баги

</br>

## Выпущено: `15/07/2022`

### Добавлено

- Поддержка SAMP R4-2
- Поддержка боковых кнопок мыши
- Новый тэг `#newline` или `\n` в шпаргалке и редакторе худа - переносит текст на новую строку (как Enter)
- Возможность сбросить таргет, если ввести команду `/sm.target` без параметров или `/sm.target -1`
- Новые переменные:
  - `@name()@` - возвращает имя игрока по иду/нику
  - `@surname()@` - возвращает фамилию игрока по иду/нику
  - `@bindselector()@` - добавляет бинд в селектор
  - `@bindunselector()@` - убирает бинд из селектора

### Обновлено

- Диалоговые окна биндов сохраняют свое положение и позицию
- Несколько незначительных изменений
- Обновили переменные `@bind...()@`. Теперь вместо имени бинда можно указать `*` и тогда переменная применится ко всем биндам в папке.
  - Например `@binddisable(* "папка")@` деактивирует все бинды в папке с названием _"папка"_

### Исправлено

- Пропатчили античит SAMP. Если у кого-то блокировало управление игры - этот фикс решает данную проблему.
- Добавили возможность исправить проблему с белыми квадратами вместо шрифта. Для этого создай текстовый документ **_512_2048.txt_** или **_512_1024.txt_** в папке _\Документы\GTA San Andreas User Files\SAMP\SnailMatic_

</br>

## Выпущено: `23/03/2022`

### Обновлено

- Модифицировали переменную `@chatwords`, теперь в неё можно указывать номер строки из которой брать текст. Подробнее - в подсказке переменной
- Улучшили стабильность биндера за счет `SAMPFUNCS`. Если есть возможность установить на сборку SAMPFUNCS - это будет лучше всего для биндера и его стабильности.

> Если игра не запускается с биндером - смени параметр `hookmode` на `0`(это автономный) или `3`(это sampfuncs) в файле C:/Users/user/Documents/GTA San Andreas User Files/SAMP/SnailMatic/`snailmatic.json`

- Несколько незначительных изменений

### Исправлено

- Теперь `Ошибка #3` (недоступность биндера к своему хосту) больше не вызывает остановку работы или краша биндера.

</br>

## Выпущено: `07/12/2021`

### Добавлено

- Добавили новую переменную `$closestidtocenter$`. Она возвращает ближайший ид игрока от центра экрана.

### Обновлено

- Немного изменили дизайн окна отправки строк бинда по-отдельности.

### Исправлено

- Исправили переменную `@ifandor`. Теперь внутри её параметров можно использовать в виде текста знаки `?` и `:`
- Исправили команду `/smselect`, когда она крашила биндер при попытке открыть несуществующий бинд
- Переменная `@keyemulate` теперь копируется с правильным синтаксисом
- Исправили переменную `$targetnick$`. Она не возвращала ник таргета после перезагрузки биндера
- Исправили невозможность сохранить бинд с помощью горячих клавиш `CTRL+S`

</br>

## Выпущено: `01/12/2021`

### Обновлено

- Улучшили стабильность биндера и пофиксили его рандомные краши. В настройках биндера появился ползунок "**Режим хукинга**" с четырьмя вариантами. Если биндер ведет себя нестабильно на одном варианте хукинга - измените режим на другой.

> Если после этого обновления начало крашить, то нужно скачать RakLua с этой темы: https://www.blast.hk/threads/69433/
> 
> Или переключить хукинг на автомный или SAMPFUNCS
> 
> При невозможности запуска игры и входа в меню биндера дай нам знать и как решение смени параметр `hookmode` на `0`(это автономный) или `3`(это sampfuncs) в файле *\Documents\GTA San Andreas User Files\SAMP\SnailMatic\snailmatic.json*

</br>

## Выпущено: `03/10/2021`

### Обновлено

- Перезагрузка из-за ошибок больше не надоедает уведомлениями
- Убраны проверки на PRO-версию.
- Бинды активируются быстрее
- Небольшие внутренние изменения

### Исправлено

- `session.json` больше не крашит скрипт, было замечено у некоторых пользователей.

</br>

## Выпущено: `19/09/2021`

### Релиз SnailMatic в открытое бета тестирование

</br>

## Выпущено: `13/07/2020`

### Начало закрытого бета тестирования SnailMatic
